{"ast":null,"code":"const token = localStorage.getItem('token');\nconst configApi = {\n  url: 'http://localhost:3001',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  }\n};\nconst configAuthApi = {\n  url: \"http://localhost:3001\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n};\nclass Api {\n  constructor(configApi) {\n    this._url = configApi.url;\n    this._headers = configApi.headers;\n  }\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json();\n      }\n      return Promise.reject(`${item.status}`);\n    });\n  }\n  getTasks() {\n    const card = fetch(`${this._url}/cards`, {\n      headers: this.headers\n    });\n    return this._checkResponse(card);\n  }\n  getInfoUser() {\n    const infoUSer = fetch(`${this._url}/users/me`, {\n      headers: this.headers\n    });\n    return this._checkResponse(infoUSer);\n  }\n  saveInfoUser(name, about) {\n    const token = localStorage.getItem('token');\n    const saveInfoUser = fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    });\n    return this._checkResponse(saveInfoUser);\n  }\n  creatCard(name, link) {\n    const token = localStorage.getItem('token');\n    const creatCard = fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    });\n    return this._checkResponse(creatCard);\n  }\n  deleteCard(id) {\n    const token = localStorage.getItem('token');\n    const deleteCard = fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return this._checkResponse(deleteCard);\n  }\n  addLike(id) {\n    const token = localStorage.getItem('token');\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return this._checkResponse(addLike);\n  }\n  deleteLike(id) {\n    const token = localStorage.getItem('token');\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return this._checkResponse(addLike);\n  }\n  updateAvatar(avatar) {\n    const token = localStorage.getItem('token');\n    const updateAvatar = fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    });\n    return this._checkResponse(updateAvatar);\n  }\n}\nclass AuthApi {\n  constructor(configAuthApi) {\n    this.url = configAuthApi.url;\n    this.headers = configAuthApi.headers;\n  }\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json();\n      }\n      return Promise.reject(`${item.status}`);\n    });\n  }\n  registerUser(email, password) {\n    const token = localStorage.getItem('token');\n    console.log(`${token} register api.js`);\n    const registerUser = fetch(`${this.url}/signup`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    return this._checkResponse(registerUser);\n  }\n  // получаем токен пользовтеля\n  tokenUser(email, password) {\n    const tokenUser = fetch(`${this.url}/signin`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    return this._checkResponse(tokenUser);\n  }\n  // проверяем токен пользовтеля\n  getToken() {\n    const token = localStorage.getItem('token');\n    const getToken = fetch(`${this.url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return this._checkResponse(getToken);\n  }\n}\nconst dataApi = new Api(configApi);\nconst dataAuthApi = new AuthApi(configAuthApi);\nexport { dataApi, dataAuthApi };","map":{"version":3,"names":["token","localStorage","getItem","configApi","url","headers","configAuthApi","Api","constructor","_url","_headers","_checkResponse","item","then","ok","json","Promise","reject","status","getTasks","card","fetch","getInfoUser","infoUSer","saveInfoUser","name","about","method","body","JSON","stringify","creatCard","link","deleteCard","id","addLike","deleteLike","updateAvatar","avatar","AuthApi","registerUser","email","password","console","log","tokenUser","getToken","dataApi","dataAuthApi"],"sources":["/Users/valeriababere/Desktop/bakend-frontend/two-frontend-bekend/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["const token = localStorage.getItem('token');\nconst configApi = {\n  url: 'http://localhost:3001',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`,\n  }\n}\n\nconst configAuthApi = {\n  url: \"http://localhost:3001\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n\n  }\n}\nclass Api {\n  constructor(configApi) {\n    this._url = configApi.url\n    this._headers = configApi.headers\n  }\n\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json()\n      }\n      return Promise.reject(`${item.status}`)\n    })\n  }\n\n  getTasks() {\n    const card = fetch(`${this._url}/cards`, {\n      headers: this.headers,\n    })\n    return this._checkResponse(card)\n  }\n\n  getInfoUser() {\n\n    const infoUSer = fetch(`${this._url}/users/me`, {\n      headers: this.headers,\n    })\n    return this._checkResponse(infoUSer)\n  }\n\n  saveInfoUser(name, about) {\n    const token = localStorage.getItem('token');\n    const saveInfoUser = fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        name, about\n      })\n    })\n    return this._checkResponse(saveInfoUser)\n  }\n\n  creatCard(name, link) {\n    const token = localStorage.getItem('token');\n    const creatCard = fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({ name, link })\n    })\n    return this._checkResponse(creatCard)\n  }\n\n  deleteCard(id) {\n    const token = localStorage.getItem('token');\n    const deleteCard = fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    return this._checkResponse(deleteCard)\n  }\n\n  addLike(id) {\n    const token = localStorage.getItem('token');\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    return this._checkResponse(addLike)\n  }\n\n  deleteLike(id) {\n    const token = localStorage.getItem('token');\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    return this._checkResponse(addLike)\n  }\n\n  updateAvatar(avatar) {\n    const token = localStorage.getItem('token');\n    const updateAvatar = fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        avatar,\n      })\n    })\n    return this._checkResponse(updateAvatar)\n  }\n}\n\nclass AuthApi {\n  constructor(configAuthApi) {\n    this.url = configAuthApi.url\n    this.headers = configAuthApi.headers\n  }\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json()\n      }\n      return Promise.reject(`${item.status}`)\n    })\n  }\n\n  registerUser(email, password) {\n    const token = localStorage.getItem('token')\n    console.log(`${token} register api.js`)\n    const registerUser = fetch(`${this.url}/signup`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({ email, password })\n    })\n    return this._checkResponse(registerUser)\n  }\n  // получаем токен пользовтеля\n  tokenUser(email, password) {\n    const tokenUser = fetch(`${this.url}/signin`, {\n      method: 'POST',\n      headers: this.headers,\n\n      body: JSON.stringify({ email, password }),\n    })\n    return this._checkResponse(tokenUser)\n  }\n  // проверяем токен пользовтеля\n  getToken() {\n    const token = localStorage.getItem('token');\n    const getToken = fetch(`${this.url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    return this._checkResponse(getToken)\n  }\n}\n\nconst dataApi = new Api(configApi)\nconst dataAuthApi = new AuthApi(configAuthApi)\n\nexport { dataApi, dataAuthApi }  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}