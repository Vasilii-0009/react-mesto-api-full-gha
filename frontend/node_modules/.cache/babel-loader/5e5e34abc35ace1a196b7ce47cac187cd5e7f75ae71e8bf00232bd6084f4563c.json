{"ast":null,"code":"const configApi = {\n  url: 'http://localhost:3001'\n  // headers: {\n  //   'Content-Type': 'application/json',\n  //   authorization: 'f2aec418-693a-4d30-9fa0-f227bcec820c'\n  // },\n};\n\nconst configAuthApi = {\n  url: \"http://localhost:3001\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n};\nclass Api {\n  constructor(configApi) {\n    this._url = configApi.url;\n    this._headers = configApi.headers;\n  }\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json();\n      }\n      return Promise.reject(`${item.status}`);\n    });\n  }\n  getTasks() {\n    const token = localStorage.getItem('token');\n    const card = fetch(`${this._url}/cards`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return this._checkResponse(card);\n  }\n  getInfoUser() {\n    const token = localStorage.getItem('token');\n    const infoUSer = fetch(`${this._url}/users/me`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return this._checkResponse(infoUSer);\n  }\n  saveInfoUser(name, about) {\n    const token = localStorage.getItem('token');\n    const saveInfoUser = fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    });\n    return this._checkResponse(saveInfoUser);\n  }\n  creatCard(name, link) {\n    const creatCard = fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    });\n    return this._checkResponse(creatCard);\n  }\n  deleteCard(id) {\n    const deleteCard = fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    });\n    return this._checkResponse(deleteCard);\n  }\n  addLike(id) {\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    });\n    return this._checkResponse(addLike);\n  }\n  deleteLike(id) {\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    });\n    return this._checkResponse(addLike);\n  }\n  updateAvatar(avatar) {\n    const updateAvatar = fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    });\n    return this._checkResponse(updateAvatar);\n  }\n}\nclass AuthApi {\n  constructor(configAuthApi) {\n    this.url = configAuthApi.url;\n    this.headers = configAuthApi.headers;\n  }\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json();\n      }\n      return Promise.reject(`${item.status}`);\n    });\n  }\n  registerUser(email, password) {\n    const registerUser = fetch(`${this.url}/signup`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    return this._checkResponse(registerUser);\n  }\n  // получаем токен пользовтеля\n  tokenUser(email, password) {\n    const token = localStorage.getItem('token');\n    console.log(`${token} token api.js`);\n    const tokenUser = fetch(`${this.url}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    return this._checkResponse(tokenUser);\n  }\n  // проверяем токен пользовтеля\n  getToken() {\n    const token = localStorage.getItem('token');\n    console.log(`${token} token getToken api.js`);\n    const getToken = fetch(`${this.url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return this._checkResponse(getToken);\n  }\n}\nconst dataApi = new Api(configApi);\nconst dataAuthApi = new AuthApi(configAuthApi);\nexport { dataApi, dataAuthApi };","map":{"version":3,"names":["configApi","url","configAuthApi","headers","Api","constructor","_url","_headers","_checkResponse","item","then","ok","json","Promise","reject","status","getTasks","token","localStorage","getItem","card","fetch","getInfoUser","infoUSer","saveInfoUser","name","about","method","body","JSON","stringify","creatCard","link","deleteCard","id","addLike","deleteLike","updateAvatar","avatar","AuthApi","registerUser","email","password","tokenUser","console","log","getToken","dataApi","dataAuthApi"],"sources":["/Users/valeriababere/Desktop/bakend-frontend/two-frontend-bekend/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["const configApi = {\n  url: 'http://localhost:3001',\n  // headers: {\n  //   'Content-Type': 'application/json',\n  //   authorization: 'f2aec418-693a-4d30-9fa0-f227bcec820c'\n  // },\n}\n\nconst configAuthApi = {\n  url: \"http://localhost:3001\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n\n  }\n}\nclass Api {\n  constructor(configApi) {\n    this._url = configApi.url\n    this._headers = configApi.headers\n  }\n\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json()\n      }\n      return Promise.reject(`${item.status}`)\n    })\n  }\n\n  getTasks() {\n    const token = localStorage.getItem('token');\n    const card = fetch(`${this._url}/cards`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    return this._checkResponse(card)\n  }\n\n  getInfoUser() {\n    const token = localStorage.getItem('token');\n    const infoUSer = fetch(`${this._url}/users/me`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    })\n    return this._checkResponse(infoUSer)\n  }\n\n  saveInfoUser(name, about) {\n    const token = localStorage.getItem('token');\n    const saveInfoUser = fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        name, about\n      })\n    })\n    return this._checkResponse(saveInfoUser)\n  }\n\n  creatCard(name, link) {\n    const creatCard = fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({ name, link })\n    })\n    return this._checkResponse(creatCard)\n  }\n\n  deleteCard(id) {\n    const deleteCard = fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    return this._checkResponse(deleteCard)\n  }\n\n  addLike(id) {\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    return this._checkResponse(addLike)\n  }\n\n  deleteLike(id) {\n    const addLike = fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    return this._checkResponse(addLike)\n  }\n\n  updateAvatar(avatar) {\n    const updateAvatar = fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    return this._checkResponse(updateAvatar)\n  }\n}\n\nclass AuthApi {\n  constructor(configAuthApi) {\n    this.url = configAuthApi.url\n    this.headers = configAuthApi.headers\n  }\n  _checkResponse(item) {\n    return item.then(item => {\n      if (item.ok) {\n        return item.json()\n      }\n      return Promise.reject(`${item.status}`)\n    })\n  }\n\n  registerUser(email, password) {\n    const registerUser = fetch(`${this.url}/signup`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({ email, password })\n    })\n    return this._checkResponse(registerUser)\n  }\n  // получаем токен пользовтеля\n  tokenUser(email, password) {\n    const token = localStorage.getItem('token')\n    console.log(`${token} token api.js`)\n    const tokenUser = fetch(`${this.url}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n\n      body: JSON.stringify({ email, password }),\n    })\n    return this._checkResponse(tokenUser)\n  }\n  // проверяем токен пользовтеля\n  getToken() {\n    const token = localStorage.getItem('token')\n    console.log(`${token} token getToken api.js`)\n    const getToken = fetch(`${this.url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    return this._checkResponse(getToken)\n  }\n}\n\nconst dataApi = new Api(configApi)\nconst dataAuthApi = new AuthApi(configAuthApi)\n\nexport { dataApi, dataAuthApi }  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}